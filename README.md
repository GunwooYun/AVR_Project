스마트 자판기
=========

개요
----------
* RFID 모듈로 고객카드를 인식, 카드번호와 상품정보를 서버로 전송하고 잔액과 나이 조건을 판별 상품을 판매하고 LCD로 출력   
* 실시간으로 모바일에 고객정보와 재고상태 확인 가능
   
디렉터리 설명
---------
* SERVER : 고객, 상품 관리 및 구매 처리
* Client : 고객카드 태그 및 상품 구입
      
구성도
---------
![structure](/Readme_src/structure.png)   
    
    
플로우차트
---------
![flowchart](/Readme_src/flow.png)
    
    
회로도
---------
![circuit](/Readme_src/circuit.png)   

    
개발환경
---------
![env](/Readme_src/env.png)   
    
시스템 설명
---------
- Arduino (자판기)
   - 상품 구매 전, 고객카드를 RFID 모듈에 인식, 자판기는 해당 번호에 접두어 ‘a’를 결합하여 서버로 송신 -> 수신한 고객정보(접두어‘b’)를 파싱하여 LCD 출력
   - 상품선택 버튼을 누르고 구입 버튼을 누르면 접두어 ‘c’를 결합하여 구입 요청 메시지 송신   ->  수신한 상품 정보(접두어‘d’)를 파싱하여 LCD 출력
   - 고객카드를 다시 태그하면 계산된 잔액 확인 가능   
      
- Atmega128 (서버)
   - 고객번호를 수신 후 고객데이터의 카드번호와 수신한 카드번호가 일치하는 고객이 있는지 탐색. 일치하는 고객이 있으면 고객 정보를 리턴, UART와 블루투스로 해당정보 전송
   - 상품 구입 요청 수신 시, 구입 가능 연령 및 잔액을 확인 후 구입 혹은 취소 처리. 잔액은 계산하여 고객데이터에 저장 후 상품재고는 블루투스로 모바일에 전송, 상품정보는 자판기로 전송

     
시스템 사진
----
![systempic](/Readme_src/pic.jpg)
